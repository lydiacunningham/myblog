(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0ae986"],{"0b75":function(s,t,e){"use strict";e.r(t);var a=function(){var s=this,t=s.$createElement;s._self._c;return s._m(0)},r=[function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("section",[e("h1",[s._v("Debug your Openshift Node.js Apps locally with Visual Studio Code (VS Code)")]),e("p",[e("img",{attrs:{src:"https://cdn-images-1.medium.com/max/800/1*V6KM64_fuMeknCYQ4duxyQ.png?style=centerme",alt:""}})]),e("p",[s._v("VS Code has built-in debugging support for the Node.js runtime. But how do you remote debug a Node.js application running on Openshift.")]),e("h2",[s._v("Setup Node debugger on Openshift")]),e("blockquote",[e("p",[s._v("On Openshift in the browser open the project your app is running on")])]),e("blockquote",[e("p",[s._v("Select the Pod")])]),e("p",[e("img",{attrs:{src:"https://cdn-images-1.medium.com/max/800/1*mNcfs09gLxDWyu0usgw9pA.jpeg?style=centerme",alt:""}})]),e("blockquote",[e("p",[s._v("Select Terminal for the pod")])]),e("p",[e("img",{attrs:{src:"https://cdn-images-1.medium.com/max/800/1*rrTjLh0qVh9DllyNXds67Q.jpeg?style=centerme",alt:""}})]),e("blockquote",[e("p",[s._v("Node v6 LTS has an inbuilt debugger and can be run in the Terminal enter")])]),e("pre",{pre:!0},[e("code",{pre:!0,attrs:{"v-pre":"",class:"language-bash"}},[s._v("node debug app.js \n")])]),e("blockquote",[e("p",[s._v("where app.js will be the starting point for running your app (typically app.js or index.js). This exposes your app in debug mode on port 5858 by default.")])]),e("p",[e("strong",[s._v("Note")]),s._v(": Node v8 LTS uses inspect so the command would be "),e("strong",[s._v("node inspect app.js")])]),e("p",[s._v("From the command line login to Openshift and change to your project")]),e("pre",{pre:!0},[e("code",{pre:!0,attrs:{"v-pre":"",class:"language-bash"}},[s._v("oc login https://your-openshift-instance:8443\n\noc project your-project-name\n\noc "),e("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("set")]),s._v(" probe dc your-app-name --liveness --readiness --remove="),e("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("true")]),s._v("\n")])]),e("p",[s._v("This disables the liveness and readiness checks so your pod doesn’t restart during remote debugging. Returns the similar to the following")]),e("pre",{pre:!0},[e("code",{pre:!0,attrs:{"v-pre":"",class:"language-bash"}},[s._v("deploymentconfig "),e("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"your-app-name"')]),s._v(" updated\noc port-forward $(oc get po | grep your-app-name | grep Running | awk "),e("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'{print $1}'")]),s._v(") 8888:5858\n")])]),e("p",[s._v("This will forward port 5858 from the running Pod to a local port 8888 (8888 is an example you can use any free port). Returns the following")]),e("pre",{pre:!0},[e("code",{pre:!0,attrs:{"v-pre":"",class:"language-bash"}},[s._v("Forwarding from 127.0.0.1:8888 -> 5858\nForwarding from [::1]:8888 -> 5858\n")])]),e("p",[s._v("So now you have debug started in Openshift and forwarded to localhost:8888")]),e("h2",[s._v("Connect Vs Code to the remote")]),e("blockquote",[e("p",[s._v("Open Visual Studio Code")])]),e("blockquote",[e("p",[s._v("Open the Application you wish to debug.")])]),e("blockquote",[e("p",[s._v("Select Debug option and select Configure ‘launch.json.")])]),e("p",[e("img",{attrs:{src:"https://cdn-images-1.medium.com/max/800/1*zuN0dqopEdgX8sxvrisvJw.png?style=centerme",alt:""}})]),e("p",[s._v("Set the launch.json file similar to the following, using the port 8888 from the port forward command, the "),e("strong",[s._v("“program” :”${workspaceRoot}/app.js”")]),s._v(" variable should match your node.js starting point.")]),e("pre",{pre:!0},[e("code",{pre:!0,attrs:{"v-pre":"",class:"language-json"}},[s._v("{\n    "),e("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v('"version"')]),s._v(": "),e("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"0.2.0"')]),s._v(",\n    "),e("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v('"configurations"')]),s._v(": [\n        {\n            "),e("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v('"type"')]),s._v(": "),e("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"node"')]),s._v(",\n            "),e("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v('"request"')]),s._v(": "),e("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"attach"')]),s._v(", \n            "),e("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v('"name"')]),s._v(": "),e("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"Attach to Remote"')]),s._v(",\n            "),e("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v('"address"')]),s._v(": "),e("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"localhost"')]),s._v(",\n            "),e("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v('"protocol"')]),s._v(": "),e("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"legacy"')]),s._v(",\n            "),e("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v('"port"')]),s._v(": "),e("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("8888")]),s._v(",\n            "),e("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v('"localRoot"')]),s._v(": "),e("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"${workspaceRoot}"')]),s._v(",\n            "),e("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v('"remoteRoot"')]),s._v(": "),e("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"/opt/app-root/src/"')]),s._v("\n        },\n        {\n            "),e("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v('"type"')]),s._v(": "),e("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"node"')]),s._v(",\n            "),e("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v('"request"')]),s._v(": "),e("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"launch"')]),s._v(",\n            "),e("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v('"protocol"')]),s._v(": "),e("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"legacy"')]),s._v(",\n            "),e("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v('"name"')]),s._v(": "),e("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"Launch Program"')]),s._v(",\n            "),e("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v('"program"')]),s._v(": "),e("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"${workspaceRoot}/app.js"')]),s._v("\n        }\n    ]\n}\n")])]),e("blockquote",[e("p",[s._v("Click the drop down beside the play button and select Attach to Remote")])]),e("blockquote",[e("p",[s._v("Click on the play button or Select from drop down to start debugging")])]),e("p",[s._v("That it you can now use the debugger as normal")])])}],n=e("2877"),o={},p=Object(n["a"])(o,a,r,!1,null,null,null);t["default"]=p.exports}}]);
//# sourceMappingURL=chunk-2d0ae986.04eb8960.js.map