(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d20957e"],{a93c:function(s,e,t){"use strict";t.r(e);var n=function(){var s=this,e=s.$createElement;s._self._c;return s._m(0)},a=[function(){var s=this,e=s.$createElement,t=s._self._c||e;return t("section",[t("h1",[s._v("Create Node Command line App")]),t("p",[t("img",{attrs:{src:"https://cdn-images-1.medium.com/max/800/1*Yhe1R94CIotr2se7Wf6TQQ.png?style=centerme",alt:""}})]),t("p",[s._v("I wanted to create a command line Node Module. To start with I created my project directory change_oc and initialize my project with "),t("strong",[s._v("npm init")]),s._v(" excepting the defaults")]),t("p",[t("img",{attrs:{src:"https://cdn-images-1.medium.com/max/800/1*O-eU1pzEijMQpFvBswALkA.png?style=centerme",alt:""}})]),t("p",[s._v("I created the "),t("strong",[s._v("index.js")]),s._v(" file and gave it the following shebang")]),t("p",[t("img",{attrs:{src:"https://cdn-images-1.medium.com/max/800/1*8umHJmVTwj-3HBt8fcgLlA.png?style=centerme",alt:""}})]),t("p",[s._v("I edited the "),t("strong",[s._v("package.json")]),s._v(" file and add "),t("strong",[s._v("bin")]),s._v(" , and gave it my package name and pointed it at my main node file index.js")]),t("p",[t("img",{attrs:{src:"https://cdn-images-1.medium.com/max/800/1*1Mb-U9IERFpyiis39bRgaA.png?style=centerme",alt:""}})]),t("p",[s._v("I needed to change permissions on the index.js file so it can run in the os")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-bash"}},[s._v("chmod 775 index.js\n")])]),t("p",[s._v("So that’s it the package is now able to execute from the command line but it doesn’t do anything so add a console.log to index.js to test.")]),t("p",[t("img",{attrs:{src:"https://cdn-images-1.medium.com/max/800/1*FpI5Hjbj9nu6Zg4jCdmewQ.png?style=centerme",alt:""}})]),t("p",[s._v("Install the package globally from the package directory, and you can then run it by using the value set with bin in package.json e.g.")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-bash"}},[s._v("$ npm install -g\n$ change_oc\nThis is like Echo "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("in")]),s._v(" the "),t("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("command")]),s._v(" prompt\n")])]),t("p",[s._v("At this point you think great but what can I do. Node has some inbuilt components that are very useful for command line applications.")]),t("blockquote",[t("p",[t("a",{attrs:{href:"https://nodejs.org/api/fs.html"}},[s._v("fs")])])]),t("blockquote",[t("p",[t("a",{attrs:{href:"https://nodejs.org/api/child_process.html"}},[s._v("child process")])])]),t("p",[s._v("A simple example and use case")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[s._v("\n"),t("span",{pre:!0,attrs:{class:"hljs-meta"}},[s._v("#!/usr/bin/env node")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" colors = "),t("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("require")]),s._v("("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'colors/safe'")]),s._v(");\n"),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" readlineSync = "),t("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("require")]),s._v("("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'readline-sync'")]),s._v(");\n"),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" execsync = "),t("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("require")]),s._v("("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'child_process'")]),s._v(").execSync;\n"),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" fs = "),t("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("require")]),s._v("("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'fs'")]),s._v(");\n\n"),t("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'This is like Echo in the command prompt'")]),s._v(");\n\n"),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// npm install colors/safe --save")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log(colors.yellow("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'colours work like this'")]),s._v("))\n\n"),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// fs has alot of methods but this is one I found useful")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// Check to see if /usr/bin/oc exists if not create it")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("if")]),s._v(" (!fs.existsSync("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'/usr/bin/oc'")]),s._v(")) {\n  "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//execSync can be used to execute any os command")]),s._v("\n  execsync("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'sudo touch /usr/bin/oc'")]),s._v(");\n}\n\n"),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// setting up a prompt for user interface ")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// npm install readline-sync --save")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" result = readlineSync.question(colors.blue("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'Do you wish to do something else yes/no ? '")]),s._v("));\n  "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("if")]),s._v(" (result === "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'yes'")]),s._v(" || result === "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'y'")]),s._v(") {\n    "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// add your logic here")]),s._v("\n  }\n")])]),t("p",[t("strong",[s._v("Note")]),s._v(": I recommend using synchronous commands, asynchronous commands may not always execute in the order you wish if you are waiting for user input or a disk writing processes.\nThat’s the basics you may want to publish to "),t("a",{attrs:{href:"https://hackernoon.com/publish-your-own-npm-package-946b19df577e"}},[s._v("npmjs")]),s._v(".")]),t("p",[t("strong",[s._v("Note")]),s._v(": To use command line node modules in the os they need to be installed globally.\nMy cli project is on "),t("a",{attrs:{href:"https://www.npmjs.com/package/change_oc"}},[s._v("npmjs")]),s._v(" and "),t("a",{attrs:{href:"https://github.com/austincunningham/change_oc"}},[s._v("github")]),s._v(" for further reference.")])])}],r=t("2877"),o={},c=Object(r["a"])(o,n,a,!1,null,null,null);e["default"]=c.exports}}]);
//# sourceMappingURL=chunk-2d20957e.ddf026ed.js.map